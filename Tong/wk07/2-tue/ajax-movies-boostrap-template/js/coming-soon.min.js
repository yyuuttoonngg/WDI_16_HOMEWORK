!function(t){"use strict"}(jQuery);
document.querySelector('.btn-secondary').addEventListener('click',function(){
    var searchTitle = document.querySelector('.form-control').value;
    console.log(searchTitle);
    $.ajax({
        // What kind of request
        method: 'GET',
        // The URL for the request
        url: 'https://omdbapi.com/?s=' + searchTitle + '&apikey=2f6435d9',
        // The type of data we want back
        dataType: 'json',
        // Code to run if the request succeeds; the JSON
        // response is passed to the function as an argument.
    }).done(onSuccess);
  })
  
  function onSuccess(responseData) {
      var parent =document.querySelector('.list-unstyled')
      removeAllChildren(parent)
    console.log(responseData);
    responseData["Search"].forEach(movie => {
        var newA = document.createElement("a");
        var newLi = document.createElement("li");
        newA.textContent = movie["Title"];
        newA.href = "https://www.imdb.com/title/" + movie["imdbID"] + "/"
        newA.target = "_blank"
        newA.className = "list-unstyled-item"
        newLi.appendChild(newA)
        console.log(newA)
        document.querySelector('.list-unstyled').appendChild(newLi);
    });
  };

  function removeAllChildren(theParent){
    var rangeObj = new Range();
    rangeObj.selectNodeContents(theParent);
    rangeObj.deleteContents();
}